jQuery(document).ready((function(t){e();var a=t("#tasks-container")[0];function e(){jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"get_tasks"},success:function(t){var e=JSON.parse(t);console.table({tasks:e}),e.forEach((function(t){a.innerHTML+=function(t){var a=t.id,e=t.title,n=t.done;return'<li class="item list-hover">\n                            <label class="item-checkbox">\n                                <input class="checkbox" id="\' '.concat(a,' \'" type="checkbox" ').concat(n,'>\n                            </label>\n                            <label class="item-text list-hover" id="task-').concat(a,'" \n                                contenteditable="true"> ').concat(e,' \n                            </label>\n                            <span class="dashicons dashicons-trash trash" id="trash-\' ').concat(a," '\"></span>\n                            </li>")}(e)}))},error:function(){console.log("AJAX error getting tasks.")}})}function n(){a.innerHTML="",e()}jQuery("#new_task_form").submit((function(a){a.preventDefault();var e=(new Date).getUTCMilliseconds();jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"add_tasks",task:t("#new_task").val(),id:e},success:function(){n()},error:function(){console.log("Error addding task.")}}),t("#new_task_form")[0].reset()})),jQuery(document).on("click",".checkbox",(function(){jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"mark_task",task_id:t(this).attr("id"),checked:t(this).attr("checked")},error:function(){console.log("Error updating task status.")}})})),jQuery(document).on("keypress",".item-text",(function(a){var e=t(this).attr("id"),n=t("#"+e)[0].textContent;13==a.keyCode&&(a.preventDefault(),jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"edit_task",task_id:e,text:n},error:function(){console.log("Error editing task.")}}))})),jQuery(document).on("click",".trash",(function(){jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"delete_task",task_id:t(this).attr("id")},success:function(){n()},error:function(){console.log("Error deleting task.")}})}))}));