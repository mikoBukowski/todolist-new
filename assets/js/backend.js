jQuery(document).ready((function(t){a();var e=t("#tasks-container")[0];function a(){jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"get_tasks"},success:function(t){JSON.parse(t).forEach((function(t){var a=t.id,n=t.title,o=t.done;foo='<li class="item list-hover">\n                                <label class="item-checkbox">\n                                    <input class="checkbox" id="'.concat(a,'" type="checkbox" ').concat(o,'>\n                                </label>\n                                <label class="item-text list-hover" id="task-').concat(a,'" \n                                    contenteditable="true"> ').concat(n,'\n                                </label>\n                                <span class="dashicons dashicons-trash trash" id="trash-\'').concat(a,'"></span>\n                            </li>'),e.innerHTML+=foo}))},error:function(){console.log("get error")}})}function n(){e.innerHTML="",a()}jQuery("#new_task_form").submit((function(e){e.preventDefault();var a=(new Date).getUTCMilliseconds();jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"add_tasks",task:t("#new_task").val(),id:a},success:function(){n()},error:function(){console.log("add error")}}),t("#new_task_form")[0].reset()})),jQuery(document).on("click",".checkbox",(function(){jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"mark_task",task_id:t(this).attr("id"),checked:t(this).attr("checked")},error:function(){console.log("checkbox error")}})})),jQuery(document).on("keypress",".item-text",(function(e){var a=t(this).attr("id"),n=t("#"+a)[0].textContent;13==e.keyCode&&(e.preventDefault(),jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"edit_task",task_id:a,text:n},error:function(){console.log("edit error")}}))})),jQuery(document).on("click",".trash",(function(){jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"delete_task",task_id:t(this).attr("id")},success:function(){n()},error:function(){console.log("delete error")}})}))}));